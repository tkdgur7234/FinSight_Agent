<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Daily Market Briefing</title>
    <style>
        /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
        body { font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif; line-height: 1.6; color: #333; background-color: #f4f4f4; margin: 0; padding: 0; }
        .container { max-width: 600px; margin: 0 auto; background-color: #ffffff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .header { background-color: #2c3e50; color: #ffffff; padding: 15px; text-align: center; border-radius: 8px 8px 0 0; }
        .header h1 { margin: 0; font-size: 24px; }
        .date { font-size: 14px; color: #ecf0f1; margin-top: 5px; }
        
        .section { margin-bottom: 30px; border-bottom: 1px solid #eee; padding-bottom: 20px; }
        .section-title { font-size: 18px; font-weight: bold; color: #2c3e50; border-left: 5px solid #3498db; padding-left: 10px; margin-bottom: 15px; }
        
        /* í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
        table { width: 100%; border-collapse: collapse; font-size: 14px; }
        th, td { padding: 10px; border-bottom: 1px solid #ddd; text-align: center; }
        th { background-color: #f8f9fa; font-weight: bold; }
        
        /* ê²½ì œì§€í‘œ ìŠ¤íƒ€ì¼ */
        .eco-item { background: #f9f9f9; padding: 10px; margin-bottom: 8px; border-radius: 4px; border-left: 3px solid #ddd; }
        .eco-item.high { border-left-color: #e74c3c; }
        .eco-row { display: flex; justify-content: space-between; align-items: center; }
        .eco-name { font-weight: bold; font-size: 14px; }
        .eco-val { font-weight: bold; color: #2980b9; }

        /* ë‰´ìŠ¤ ìŠ¤íƒ€ì¼ */
        .news-item { margin-bottom: 15px; }
        .news-title { font-weight: bold; color: #2c3e50; text-decoration: none; font-size: 16px; display: block; margin-bottom: 2px;}
        .news-meta { font-size: 12px; color: #95a5a6; margin-bottom: 5px; }
        
        .footer { text-align: center; font-size: 12px; color: #999; margin-top: 30px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ‡ºğŸ‡¸ ë¯¸êµ­ ì¦ì‹œ ë°ì¼ë¦¬ ë¸Œë¦¬í•‘</h1>
            <div class="date">{{ today_date }}</div>
        </div>

        <div class="section" style="background-color: #eef7fa; padding: 15px; border-radius: 5px; border-bottom: none;">
            <div class="section-title" style="border-left-color: #e67e22;">âš¡ ì˜¤ëŠ˜ì˜ í•µì‹¬ ìš”ì•½</div>
            <div style="font-size: 15px; font-weight: 500;">
                {{ market_summary }}
            </div>
        </div>

        <div class="section">
            <div class="section-title">ğŸ“Š ì£¼ìš” ì§€ìˆ˜ í˜„í™©</div>
            {{ market_table_html | safe }}
        </div>

        {% if economy_list %}
        <div class="section">
            <div class="section-title">ğŸ“… ì–´ì œ ë°œí‘œëœ ì£¼ìš” ê²½ì œ ì§€í‘œ</div>
            {% for eco in economy_list %}
            <div class="eco-item {% if 'High' in eco['ì¤‘ìš”ë„'] %}high{% endif %}">
                <div class="eco-row">
                    <span class="eco-name">{{ eco['ì§€í‘œëª…'] }}</span>
                    <span class="eco-val">{{ eco['ë°œí‘œê°’'] | safe }}</span>
                </div>
                <div style="font-size: 12px; color: #666; margin-top: 4px;">
                    ì˜ˆìƒ: {{ eco['ì˜ˆìƒ'] }} | ì¤‘ìš”ë„: {{ eco['ì¤‘ìš”ë„'] }}
                </div>
            </div>
            {% endfor %}
        </div>
        {% endif %}

        {% if sp500_image %}
        <div class="section">
            <div class="section-title">ğŸŒ S&P 500 íˆíŠ¸ë§µ (Click to Zoom)</div>
            <a href="https://finviz.com/map.ashx?t=sec" target="_blank" title="í´ë¦­í•˜ì—¬ ì›ë³¸ ì§€ë„ ë³´ê¸°">
                <img src="data:image/png;base64,{{ sp500_image }}" style="width: 100%; border-radius: 5px; border: 1px solid #ddd;" />
            </a>
        </div>
        {% endif %}

        <div class="section" style="border-bottom: none;">
            <div class="section-title">ğŸ“° ê°„ë°¤ì˜ ì›”ìŠ¤íŠ¸ë¦¬íŠ¸ ì£¼ìš” ë‰´ìŠ¤</div>
            {% for news in news_list %}
            <div class="news-item">
                <a href="{{ news.link }}" target="_blank" class="news-title">
                    {{ news.title }}
                </a>
                <div class="news-meta">
                    {{ news.pub_date }}
                </div>
            </div>
            {% endfor %}
        </div>

        <div class="footer">
            ë³¸ ë¦¬í¬íŠ¸ëŠ” AIì— ì˜í•´ ìë™ ìƒì„±ë˜ì—ˆìœ¼ë©°, íˆ¬ìì˜ ì°¸ê³  ìë£Œë¡œë§Œ í™œìš©í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.<br>
            Created by StockMarket Auto Reporter
        </div>
    </div>
</body>
</html>